@startuml

title Diagrama de Casos de Uso - Sistema de Gestión de Empleados

left to right direction
skinparam backgroundColor #FFFFFF
skinparam defaultFontName Arial
skinparam defaultFontSize 12
skinparam shadowing false
skinparam actorStyle awesome
skinparam linetype ortho

skinparam actor {
    BackgroundColor #BBDEFB
    BorderColor #1976D2
    FontSize 13
}

skinparam usecase {
    BackgroundColor #E8F5E9
    BorderColor #388E3C
    FontSize 11
}

skinparam usecase<<principal>> {
    BackgroundColor #C8E6C9
    BorderColor #2E7D32
    FontStyle bold
}

skinparam usecase<<subproceso>> {
    BackgroundColor #FFF9C4
    BorderColor #F9A825
}

skinparam usecase<<validacion>> {
    BackgroundColor #E1BEE7
    BorderColor #7B1FA2
}

skinparam usecase<<error>> {
    BackgroundColor #FFCDD2
    BorderColor #D32F2F
}

skinparam rectangle {
    BackgroundColor #FAFAFA
    BorderColor #455A64
    FontSize 14
    FontStyle bold
}

actor "Administrador" as Admin

rectangle "Sistema de Gestión de Empleados" {

    ' --- Casos principales ---
    usecase "UC01 - Listar empleados" as ListEmployees <<principal>>
    usecase "UC02 - Crear empleado" as CreateEmployee <<principal>>
    usecase "UC03 - Editar empleado" as EditEmployee <<principal>>
    usecase "UC04 - Eliminar empleado" as DeleteEmployee <<principal>>
    usecase "UC05 - Ver detalles empleado" as ViewDetails <<principal>>

    ' --- Subprocesos (incluidos) ---
    usecase "Mostrar formulario\nde creación" as ShowCreateForm <<subproceso>>
    usecase "Mostrar formulario\nde edición" as ShowEditForm <<subproceso>>
    usecase "Guardar información\ndel empleado" as SaveEmployee <<subproceso>>

    ' --- Validaciones internas ---
    usecase "Validar datos\ndel empleado" as ValidateData <<validacion>>
    usecase "Verificar si el\nemail ya existe" as CheckEmailExists <<validacion>>

    ' --- Excepciones ---
    usecase "Error: Email\nduplicado" as ErrorEmail <<error>>
    usecase "Error: Datos\nincompletos" as ErrorInvalidData <<error>>
    usecase "Confirmación\nde eliminación" as ConfirmDelete <<subproceso>>
    usecase "Error: Empleado\nno encontrado" as ErrorNotFound <<error>>
}

' =============================================
' RELACIONES ACTOR - CASOS PRINCIPALES
' =============================================
Admin --> ListEmployees
Admin --> CreateEmployee
Admin --> EditEmployee
Admin --> DeleteEmployee
Admin --> ViewDetails

' =============================================
' INCLUDES PRINCIPALES
' =============================================
CreateEmployee .down.> ShowCreateForm : <<include>>
CreateEmployee .down.> ValidateData : <<include>>
CreateEmployee .down.> SaveEmployee : <<include>>

EditEmployee .down.> ShowEditForm : <<include>>
EditEmployee .down.> ValidateData : <<include>>
EditEmployee .down.> SaveEmployee : <<include>>

DeleteEmployee .down.> ConfirmDelete : <<include>>

' =============================================
' VALIDACIONES
' =============================================
ValidateData .down.> CheckEmailExists : <<include>>

' =============================================
' EXTENDS (ERRORES)
' =============================================
CheckEmailExists .right.> ErrorEmail : <<extend>>
ValidateData .right.> ErrorInvalidData : <<extend>>
EditEmployee .right.> ErrorNotFound : <<extend>>
ViewDetails .right.> ErrorNotFound : <<extend>>
DeleteEmployee .right.> ErrorNotFound : <<extend>>

' =============================================
' LEYENDA
' =============================================
legend bottom
    |= Color |= Tipo |
    |<#C8E6C9>| Caso Principal |
    |<#FFF9C4>| Subproceso |
    |<#E1BEE7>| Validación |
    |<#FFCDD2>| Error/Excepción |
endlegend

@enduml
